{"version":3,"file":"index.js","mappings":";;;;;;;;;;;;;;;;;;;AAAA,CAA4B;AACW;AACvC;AACwC;AACmB;AAChC;AAC3B;AACgB;;;;;;;;;;;;;;;ACPhB,CAA2D;AACtB;AACrC;AACA;AACA;AACA,eAAe,uEAAqB;AACpC;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,YAAY,CAAC;AACb;AACA,kBAAkB,mDAAa;AAC/B;AACA,KAAK;AACL,EAAE;AACF;AACA,CAAC;AACD,gEAAgE,gBAAgB;AAChF,CAAC;AACD;AACA;AACA;AACA,CAAC;AACD;AACA;AACA,gBAAgB,CAAC;AACjB,oBAAoB,kBAAkB;AACtC;AACA,+DAA+D,GAAG;AAClE,oCAAoC,0DAA0D,IAAI,0DAA0D;AAC5J,iEAAiE,GAAG;AACpE,sCAAsC,4DAA4D,IAAI,4DAA4D;AAClK;AACA","sources":["webpack://thebudgeteer/../../../../../../C\u0000#/GithubRepositories/CodeReviews.MVC.Budget/MVC.Budget.K-MYR/MVC.Budget.K-MYR/ClientApp/src/js/index-entry.js","webpack://thebudgeteer/../../../../../../C\u0000#/GithubRepositories/CodeReviews.MVC.Budget/MVC.Budget.K-MYR/MVC.Budget.K-MYR/ClientApp/src/js/index.js"],"sourcesContent":["﻿import 'jquery-validation';\r\nimport 'jquery-validation-unobtrusive';\r\n\r\nimport '../scss/bootstrap-imports.scss';\r\nimport 'country-select-js/build/css/countrySelect.min.css';\r\nimport '../scss/site.scss';\r\n\r\nimport './site';\r\nimport './index';","﻿import { importBootstrapModals } from './asyncComponents';\r\nimport { addFiscalPlan } from './api'\r\n\r\nformatDashboard();\r\nconst fiscalPlanApi = \"https://localhost:7246/api/FiscalPlan\";\r\nconst modals = importBootstrapModals().then((modalsArray) => {\r\n    let modal = modalsArray.find(m => m._element.id == \"addFiscalPlan-modal\");\r\n    document.getElementById(\"addFiscalPlan-card\").addEventListener('click', function () {\r\n        modal.show();\r\n    });\r\n    document.getElementById(\"addFiscalPlan-form\").addEventListener('submit', async function (event) {\r\n        event.preventDefault();\r\n        if ($(this).valid()) {\r\n            modal.hide();\r\n            await addFiscalPlan(new FormData(this));\r\n        }\r\n    })\r\n });\r\n\r\n$('.fiscalPlan-card').on('click', function (event) {\r\n    window.location.href = `https://localhost:7246/FiscalPlan/${this.dataset.id}`;\r\n});\r\n\r\nwindow.addEventListener('countryChanged', () => {\r\n    formatDashboard();\r\n})\r\n\r\nfunction formatDashboard() {\r\n    var cards = $('.fiscalPlan-card');\r\n    for (let i = 0; i < cards.length; i++) {\r\n        let id = cards[i].dataset.id;\r\n        let incomeText = document.getElementById(`fiscalPlan_${id}_income`);\r\n        incomeText.textContent = `${window.userNumberFormat.format(incomeText.dataset.total)} / ${window.userNumberFormat.format(incomeText.dataset.budget)}`;\r\n        let expensesText = document.getElementById(`fiscalPlan_${id}_expenses`);\r\n        expensesText.textContent = `${window.userNumberFormat.format(expensesText.dataset.total)} / ${window.userNumberFormat.format(expensesText.dataset.budget)}`;\r\n    }\r\n}\r\n"],"names":[],"sourceRoot":""}