{"version":3,"file":"fiscalPlan.js","mappings":";;;;;;;;;;;;;;;;;;;;;AAAA,CAA4B;AACW;AACvC;AAC0D;AACC;AACT;AACmB;AAC1C;AAC3B;AACgB;;;;;;;;;;;;;;;;ACThB,CAA6C;AAC4D;AACL;AACpG;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,qEAAmB;AAC7C;AACA;AACA;AACA;AACA,sBAAsB,uEAAqB;AAC3C,yBAAyB,0EAAwB;AACjD;AACA,IAAI,CAAC;AACL;AACA;AACA,wBAAwB,CAAC;AACzB;AACA;AACA,KAAK;AACL,CAAC;AACD;AACA;AACA;AACA;AACA,QAAQ,CAAC;AACT;AACA,gBAAgB,CAAC;AACjB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,CAAC;AACb;AACA,iCAAiC,kDAAY;AAC7C;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,YAAY,CAAC;AACb;AACA,oCAAoC,qDAAe;AACnD;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,YAAY,CAAC;AACb;AACA;AACA;AACA,kCAAkC,iDAAW;AAC7C;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,IAAI,CAAC;AACL,mBAAmB,CAAC;AACpB;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,4DAA4D,GAAG;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,oDAAc;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,CAAC;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,yDAAa;AACtC;AACA;AACA,oDAAoD,WAAW;AAC/D;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,oDAAoD,WAAW,MAAM;AACrE,KAAK;AACL;AACA;AACA;AACA;AACA,gBAAgB,qBAAqB,QAAQ,6TAAgE;AAC7G;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,CAAC;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,CAAC;AACjB;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA,iBAAiB;AACjB;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,kBAAkB,+DAA+D;AACjF,kBAAkB,oCAAoC;AACtD,kBAAkB,gCAAgC;AAClD,kBAAkB,qEAAqE;AACvF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,+BAA+B,QAAQ,2YAA4E;AACnI;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,yBAAyB,QAAQ,mXAAgE;AACjH;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,iCAAiC,QAAQ,2TAAgF;AACzI;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;;;;;;;;;;;;;;;;AC3YA,CAAQ;AACR;AACA;AACA;AACA;AACA,MAAM;AACN;AACA,MAAM;AACN;AACA,MAAM;AACN;AACA;AACA;AACA;AACO;AACP;AACA;AACA;;;;;;;;;;;;ACjBA;;;;;;;;;;;;ACAA;;;;;;;;;;;;ACAA","sources":["webpack://thebudgeteer/../../../../../C\u0000# Academy Repos/CodeReviews.MVC.Budget/MVC.Budget.K-MYR/MVC.Budget.K-MYR/ClientApp/src/js/fiscalPlan-entry.js","webpack://thebudgeteer/../../../../../C\u0000# Academy Repos/CodeReviews.MVC.Budget/MVC.Budget.K-MYR/MVC.Budget.K-MYR/ClientApp/src/js/fiscalPlan.js","webpack://thebudgeteer/../../../../../C\u0000# Academy Repos/CodeReviews.MVC.Budget/MVC.Budget.K-MYR/MVC.Budget.K-MYR/ClientApp/src/js/utilities.js","webpack://thebudgeteer/../../../../../C\u0000# Academy Repos/CodeReviews.MVC.Budget/MVC.Budget.K-MYR/MVC.Budget.K-MYR/ClientApp/node_modules/bootstrap-datepicker/dist/css/bootstrap-datepicker3.min.css","webpack://thebudgeteer/../../../../../C\u0000# Academy Repos/CodeReviews.MVC.Budget/MVC.Budget.K-MYR/MVC.Budget.K-MYR/ClientApp/node_modules/bootstrap-icons/font/bootstrap-icons.css","webpack://thebudgeteer/../../../../../C\u0000# Academy Repos/CodeReviews.MVC.Budget/MVC.Budget.K-MYR/MVC.Budget.K-MYR/ClientApp/node_modules/datatables.net-bs5/css/dataTables.bootstrap5.css"],"sourcesContent":["﻿import 'jquery-validation';\r\nimport 'jquery-validation-unobtrusive';\r\n\r\nimport 'datatables.net-bs5/css/dataTables.bootstrap5.css';\r\nimport 'country-select-js/build/css/countrySelect.min.css';\r\nimport 'bootstrap-icons/font/bootstrap-icons.css';\r\nimport 'bootstrap-datepicker/dist/css/bootstrap-datepicker3.min.css';\r\nimport '../scss/site.scss';\r\n\r\nimport './site';\r\nimport './fiscalPlan';","﻿import { shortestAngle } from './utilities';\r\nimport { importChartDefaults, importBootstrapModals, importBootstrapCollapses } from './asyncComponents';\r\nimport { postTransaction, getTransactions, postCategory, putCategory, deleteCategory } from './api';\r\n\r\nconst currentDate = new Date();\r\n\r\nconst fiscalPlanId = document.getElementById(\"fiscalPlan_Id\");\r\nconst menu = document.getElementById('menu-container');\r\n\r\nconst chartDefaultsTask = importChartDefaults();\r\nconst homeDashboardPromise = getHomeDashboard(menu, fiscalPlanId.value, currentDate, JSON.parse(fiscalPlanId.dataset.object));\r\nconst statisticsDashboardPromise = getStatisticsDashboard(fiscalPlanId.value, currentDate);\r\n\r\nconst reevaluationDashboardPromise = getReevaluationDashboard(fiscalPlanId.value);\r\nconst modalsPromise = importBootstrapModals();\r\nconst collapsesPromise = importBootstrapCollapses()\r\n    .then((collapses) => {\r\n    $(\".accordion-head\").on(\"click\", function (event) {\r\n        if (!event.target.classList.contains(\"add-category-icon\")) {\r\n            collapses.find(c => c._element.id == this.nextElementSibling.id).toggle();\r\n            let caret = $('.accordion-caret', this)[0];\r\n            caret.classList.toggle(\"rotate\");\r\n        }\r\n    })\r\n});\r\n\r\nconst transactionsTablePromise = getTransactionsTable()\r\n    .then((table) => {\r\n        document.getElementById('search_fiscalPlanId').value = fiscalPlanId.value;\r\n        $('#search-form').on(\"submit\", async function (event) {\r\n            event.preventDefault();\r\n            if ($(this).valid()) {\r\n                table.page(0);\r\n                table.ajax.reload(null, false);\r\n            }\r\n        });\r\n        \r\n        return table;\r\n    });\r\n\r\nsetupFlipContainer();\r\nsetupModalHandlers();\r\nsetupRerenderHandlers();\r\n\r\nasync function setupRerenderHandlers() {\r\n    var [homeDB, statisticsDB, reevaluationDB, transactionsTable] = await Promise.all(\r\n        [homeDashboardPromise, statisticsDashboardPromise, reevaluationDashboardPromise, transactionsTablePromise]\r\n    );\r\n    window.addEventListener('countryChanged', () => {\r\n        setTimeout(() => homeDB.formatDashboard(), 0);\r\n        setTimeout(() => reevaluationDB.formatDashboard(), 0);\r\n        setTimeout(() => statisticsDB.formatDashboard(), 0);\r\n        setTimeout(() => transactionsTable.rows().invalidate().draw(), 0);\r\n    })\r\n}\r\n\r\nasync function setupModalHandlers() {\r\n    const modals = await modalsPromise;\r\n    const homeDashboard = await homeDashboardPromise;\r\n    const addCategoryModal = modals.find(m => m._element.id == \"addCategory-modal\");\r\n    const addCategoryModalType = document.getElementById(\"addCategory_type\");\r\n    const addCategoryFiscalPlanId = document.getElementById(\"addCategory_fiscalPlanId\");\r\n\r\n    const updateCategoryModal = modals.find(m => m._element.id == \"updateCategory-modal\");\r\n    const updateCategoryModalLabel = document.getElementById(\"updateCategory-label\");\r\n    const updateCategoryModalId = document.getElementById(\"updateCategory_id\");\r\n    const updateCategoryModalName = document.getElementById(\"updateCategory_name\");\r\n    const updateCategoryModalBudget = document.getElementById(\"updateCategory_budget\");\r\n    const updateCategoryModalType = document.getElementById(\"updateCategory_type\");\r\n    const updateCategoryFiscalPlanId = document.getElementById(\"updateCategory_fiscalPlanId\");\r\n\r\n    const addTransactionModal = modals.find(m => m._element.id == \"addTransaction-modal\");\r\n    const addTransactionModalCategoryId = document.getElementById(\"addTransaction_categoryId\");\r\n    const addTransactionModalDateTime = document.getElementById(\"addTransaction_dateTime\");\r\n\r\n    document.getElementById('add-category-form').addEventListener(\"submit\", async function (event) {\r\n        event.preventDefault();\r\n        if ($(this).valid()) {\r\n            addCategoryModal.hide();\r\n            let category = await postCategory(new FormData(this));\r\n\r\n            if (category) {\r\n                homeDashboard.addCategory(category);\r\n            }\r\n        }\r\n    });\r\n    document.getElementById('add-transaction-form').addEventListener(\"submit\", async function (event) {\r\n        event.preventDefault();\r\n        if ($(this).valid()) {\r\n            addTransactionModal.hide();\r\n            let transaction = await postTransaction(new FormData(this));\r\n\r\n            if (transaction) {\r\n                homeDashboard.addTransaction(transaction);\r\n            }\r\n        }\r\n    });\r\n    document.getElementById('update-category-form').addEventListener(\"submit\", async function (event) {\r\n        event.preventDefault();\r\n        if ($(this).valid()) {\r\n            updateCategoryModal.hide();\r\n            let month = homeDashboard.getCurrentMonthUTC().toISOString();\r\n            let formData = new FormData(this);\r\n            let isUpdated = await putCategory(formData, month);\r\n\r\n            if (isUpdated) {\r\n                homeDashboard.editCategory(formData, month);\r\n            }\r\n        }\r\n    });\r\n\r\n    $(\".add-category-icon\").on(\"click\", function () {\r\n        var type = $(this).closest('.accordion')[0].dataset.type;\r\n        addCategoryModalType.value = type;\r\n        addCategoryFiscalPlanId.value = fiscalPlanId.value;\r\n        addCategoryModal.show();\r\n    });\r\n\r\n    document.getElementById('close-menu').onclick = function () {\r\n        menu.classList.remove('active');\r\n        var id = menu.dataset.categoryid;\r\n        var borderBox = document.getElementById(`category_${id}`).querySelector('.border-animation');\r\n        borderBox.classList.remove('border-rotate');\r\n        menu.dataset.categoryid = 0;\r\n    }\r\n    document.getElementById('add-menu').onclick = async function () {\r\n        var month = homeDashboard.getCurrentMonth();\r\n\r\n        addTransactionModalCategoryId.value = menu.dataset.categoryid;\r\n        addTransactionModalDateTime.value = month.toISOString().slice(0, 16);\r\n        addTransactionModal.show();\r\n    }\r\n    document.getElementById('edit-menu').onclick = function () {\r\n        var data = homeDashboard.getCategory(menu.dataset.categoryid);\r\n        updateCategoryModalLabel.textContent = data.name;\r\n        updateCategoryModalId.value = data.id;\r\n        updateCategoryModalName.value = data.name;\r\n        updateCategoryModalBudget.value = data.budgetLimit?.budget ?? data.budget;\r\n        updateCategoryModalType.value = data.categoryType;    \r\n        updateCategoryFiscalPlanId.value = fiscalPlanId.value;\r\n        updateCategoryModal.show();\r\n    }\r\n    document.getElementById('delete-menu').onclick = function () {\r\n        var token = menu.querySelector('input').value;\r\n        var id = parseInt(menu.dataset.categoryid);\r\n        var data = homeDashboard.getCategory(menu.dataset.categoryid);\r\n        var isDeleted = deleteCategory(id, data.categoryType, token)\r\n        if (isDeleted) {\r\n            homeDashboard.removeCategory(id, data.categoryType);\r\n            menu.classList.remove('active');\r\n            menu.dataset.categoryid = 0;\r\n        }\r\n    }\r\n    document.getElementById('details-menu').onclick = function () {\r\n        var id = menu.dataset.categoryid;\r\n        window.location.href = \"Category/\" + id;\r\n    }\r\n\r\n    homeDashboard.setupMenuHandlers();\r\n}\r\n\r\nfunction setupFlipContainer() {\r\n    var faces = [\"face_0\", \"face_1\", \"face_2\", \"face_3\"];\r\n    var flipContainer = document.getElementById(\"flip-container-inner\");\r\n    var currentSideIndex = 0;\r\n    var currentDeg = 0;\r\n\r\n    $('#action-sidebar').on(\"click\", '.sidebar-button-container', async function () {\r\n        var index = parseInt(this.dataset.index);\r\n        if (currentSideIndex === index) {\r\n            return;\r\n        }\r\n\r\n        var currentFace = document.getElementById(faces[currentSideIndex]);\r\n        var nextFace = document.getElementById(faces[index]);\r\n\r\n        var degreeDiff = shortestAngle(currentSideIndex, index);\r\n        currentDeg += degreeDiff;\r\n\r\n        flipContainer.style = `transform: rotateY(${currentDeg}deg)`;\r\n        currentFace.classList.remove(\"visible-face\");\r\n        nextFace.classList.add(\"visible-face\");\r\n        currentSideIndex = index;\r\n    });\r\n\r\n    flipContainer.addEventListener(\"transitionend\", () => {\r\n\r\n        currentDeg = currentDeg % 360;\r\n        flipContainer.style = `transform: rotateY(${currentDeg}deg); transition: transform 0s`;\r\n    });\r\n}\r\n\r\nasync function getTransactionsTable() {\r\n    try {\r\n        const { default: DataTable } = await import(/* webpackChunkName: \"datatables\" */'datatables.net-bs5');\r\n        var lastAjaxData = {\r\n            start: 0,     \r\n            lastId: null,\r\n            lastValue: null\r\n        };\r\n        var dataTable = new DataTable('#transactions-table', {\r\n            processing: true,\r\n            serverSide: true,\r\n            deferLoading: 0,\r\n            ajax: function (data, callback, settings) {\r\n                var formData = new FormData(document.getElementById(\"search-form\"));\r\n                var table = new $.fn.dataTable.Api(settings);\r\n\r\n                var searchString = formData.get(\"SearchString\");\r\n                var minDate = formData.get(\"MinDate\");\r\n                var maxDate = formData.get(\"MaxDate\");\r\n                var fiscalPlanId = formData.get(\"FiscalPlanId\");\r\n                var categoryId = formData.get(\"CategoryId\");\r\n                var minAmount = formData.get(\"MinAmount\");\r\n                var maxAmount = formData.get(\"MaxAmount\");\r\n\r\n                var isPrevious = false;\r\n                var lastId = null;\r\n                var lastValue = null;                \r\n                var orderBy = null;\r\n                var orderDirection = null;\r\n\r\n                if (data.order?.[0]) {\r\n                    orderBy = data.order[0].name;\r\n                    orderDirection = data.order[0].dir;\r\n                }\r\n\r\n                if (data.start !== 0) {\r\n                    let rowData = null;\r\n\r\n                    if (lastAjaxData.start !== data.start) {\r\n                        isPrevious = lastAjaxData.start > data.start;\r\n                        rowData = isPrevious ? table.row(':first').data() : table.row(':last').data();\r\n                    } else {\r\n                        lastId = lastAjaxData.lastId;\r\n                        lastValue = lastAjaxData.lastValue;\r\n                    }\r\n\r\n                    if (rowData) {\r\n                        lastId = rowData.id;\r\n                        if (orderBy) {\r\n                            lastValue = rowData[orderBy];\r\n                        }\r\n                    }\r\n                }\r\n                                \r\n                var requestData = {\r\n                    draw: data.draw,\r\n                    start: data.start,\r\n                    pageSize: data.length,\r\n                    orderBy: orderBy,\r\n                    orderDirection: orderDirection === 'asc' ? 0 : 1,\r\n                    lastId: lastId,\r\n                    lastValue: lastValue,\r\n                    isPrevious: isPrevious,\r\n                    FiscalPlanId: fiscalPlanId.length > 0 ? parseInt(fiscalPlanId) : null,\r\n                    SearchString: searchString.length > 0 ? searchString : null,\r\n                    CategoryId: categoryId.length > 0 ? parseInt(categoryId) : null,\r\n                    MinDate: minDate.length > 0 ? minDate: null,\r\n                    MaxDate: maxDate.length > 0 ? maxDate : null,\r\n                    MinAmount: minAmount.length > 0 ? parseFloat(minAmount) : null,\r\n                    MaxAmount: maxAmount.length > 0 ? parseFloat(maxAmount) : null\r\n                };\r\n                $.ajax({\r\n                    url: 'https://localhost:7246/api/Transactions/search',\r\n                    type: 'POST',\r\n                    contentType: 'application/json',\r\n                    headers: {\r\n                        \"RequestVerificationToken\": formData.get('__RequestVerificationToken')\r\n                    },\r\n                    data: JSON.stringify(requestData),\r\n                    success: function (response) {\r\n                        callback({\r\n                            draw: response.draw,\r\n                            recordsFiltered: data.start + response.transactions.length + (response.hasNext === true ? 1 : 0),\r\n                            data: response.transactions\r\n                        });\r\n                        lastAjaxData = {\r\n                            start: requestData.start,\r\n                            lastId: requestData.lastId,\r\n                            lastValue: requestData.lastValue\r\n                        };                      \r\n                    },\r\n                    error: function (xhr, status, error) {\r\n                        console.error(`Couldn't fetch transactions'`, error);\r\n                    }\r\n                });\r\n              \r\n            },\r\n            info: false,\r\n            layout: {\r\n                topStart: null,\r\n                topEnd: null,\r\n                bottomStart: 'pageLength',\r\n                bottomEnd: {\r\n                    paging: {\r\n                        type: 'simple',\r\n                        numbers: false \r\n                    }\r\n                }\r\n            },\r\n            lengthMenu: [10, 25, 50, 100],\r\n            columns: [\r\n                { data: 'title', render: DataTable.render.text(), name: 'title' },\r\n                { data: 'dateTime', name: 'dateTime' },\r\n                { data: 'amount', name: 'amount' },\r\n                { data: 'category', render: DataTable.render.text(), name: 'category' },\r\n                {\r\n                    data: null,\r\n                    defaultContent:\r\n                    `<div class=\"d-flex justify-content-center align-items-center flex-wrap gap-2\">\r\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" width='20' height='20' fill='rgba(255, 255, 255, 1)' class='table-icon' viewBox='0 0 16 16'>\r\n                            <path d='M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z'/>\r\n                            <path fill-rule=\"evenodd\" d='M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5z'>\r\n                        </svg >\r\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" fill=\"rgba(255, 255, 255, 1)\" viewBox=\"0 0 16 16\" class=\"table-icon\">\r\n                          <path d=\"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0z\"/>\r\n                          <path d=\"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4zM2.5 3h11V2h-11z\"/>\r\n                        </svg>\r\n                    </div>`,\r\n                    targets: -1,\r\n                    sortable: false\r\n                },\r\n            ],\r\n            columnDefs: [{\r\n                targets: 2,\r\n                render: function (data, type, row) {\r\n                    if (type === 'display') {\r\n                        return window.userNumberFormat.format(data);\r\n                    } else {\r\n                        return data;\r\n                    }\r\n                }\r\n            }, {\r\n                targets: 1,\r\n                render: function (data, type, row) {\r\n                    if (type === 'display') {\r\n                        return new Date(data).toLocaleString(window.userLocale);\r\n                    } else {\r\n                        return data;\r\n                    }\r\n                }\r\n            }],\r\n            scrollX: true,\r\n            scrollCollapse: true\r\n        });\r\n        dataTable.on('click', 'svg', function (event) {\r\n            var row = dataTable.row(event.target.closest('tr'));\r\n            var data = row.data();\r\n            console.log(data, this);\r\n        });\r\n        var table = document.getElementById(\"table-container\");\r\n        table.style = \"\";\r\n        dataTable.columns.adjust();\r\n        return dataTable;\r\n    } catch (error) {\r\n        console.error('Error loading Datatable:', error);\r\n        throw error;\r\n    }\r\n}\r\n\r\nasync function getStatisticsDashboard(id, date) {\r\n    try {\r\n        const { default: StatisticsDashboard } = await import(/* webpackChunkName: \"statisticsDashboard\" */'./statisticsDashboard');\r\n        await chartDefaultsTask;\r\n\r\n        return new StatisticsDashboard(id, date);\r\n    } catch (error) {\r\n        console.error('Error loading statistics dashboard:', error);\r\n        throw error;\r\n    }    \r\n}\r\n\r\nasync function getHomeDashboard(menu, id, date, data) {\r\n    try {\r\n        const { default: HomeDashboard } = await import(/* webpackChunkName: \"homeDashboard\"*/ './homeDashboard');\r\n        await chartDefaultsTask;\r\n\r\n        return new HomeDashboard(menu, id, date, data);\r\n\r\n    } catch (error) {\r\n        console.error('Error loading home dashboard:', error);\r\n        throw error;\r\n    }\r\n} \r\n\r\nasync function getReevaluationDashboard(id) {\r\n    try {\r\n        const { default: ReevaluationDashboard } = await import(/* webpackChunkName: \"reevaluationDashboard\" */'./reevaluationDashboard');\r\n\r\n        return new ReevaluationDashboard(id);\r\n    } catch (error) {\r\n        console.error('Error loading reevaluation dashboard:', error);\r\n        throw error;\r\n    }    \r\n} \r\n","﻿export function shortestAngle(index1, index2) {\r\n    var diff = (index2 - index1 + 4) % 4;\r\n\r\n    if (diff === 1) {\r\n        return -90;\r\n    } else if (diff === 2) {\r\n        return -180;\r\n    } else if (diff === 3) {\r\n        return 90;\r\n    } else {\r\n        return 0;\r\n    }\r\n}\r\n\r\nexport function getColor(i) {\r\n    var colors = ['#e6194B', '#3cb44b', '#ffe119', '#4363d8', '#f58231', '#911eb4', '#42d4f4', '#f032e6', '#bfef45', '#fabed4', '#469990', '#dcbeff', '#9A6324', '#fffac8', '#800000', '#aaffc3', '#808000', '#ffd8b1', '#000075'];\r\n    return colors[i%19];\r\n}\r\n","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};"],"names":[],"sourceRoot":""}